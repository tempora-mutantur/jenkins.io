<!DOCTYPE html>
<html lang="en">
<head>
<title>
Introducing the Jenkins Templating Engine!
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sites/default/files/jenkins_favicon.ico" rel="shortcut icon" type="image/x-icon">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon.ico" rel="icon" sizes="32x32" type="img/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<meta content="Introducing the Jenkins Templating Engine!" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Introducing the Jenkins Templating Engine!" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Introducing the Jenkins Templating Engine!" property="og:title">
<meta content="article" property="og:type">
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/blog/2019/05/09/templating-engine/index.html" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Introducing the Jenkins Templating Engine!" property="og:site_name">
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/images/logo-title-opengraph.png" name="og:image">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/jenkins.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/ionicons/css/ionicons.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/footer.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/font-awesome.min.css" media="screen" rel="stylesheet">
</head>
<body>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-expand-md navbar-dark top bg-dark fixed-top" id="ji-toolbar">
<a class="navbar-brand" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test">
Jenkins
</a>
<button class="navbar-toggler" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node">
Blog
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Documentation
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc">
Use Jenkins
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc/developer">
Extend Jenkins
</a>
<span class="dropdown-item">
<strong>
Use-cases
</strong>
</span>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/android">
&nbsp;-&nbsp;Android
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/c">
&nbsp;-&nbsp;C/C++
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/docker">
&nbsp;-&nbsp;Docker
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/embedded">
&nbsp;-&nbsp;Embedded
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/github">
&nbsp;-&nbsp;GitHub
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/java">
&nbsp;-&nbsp;Java
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/php">
&nbsp;-&nbsp;PHP
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/pipeline">
&nbsp;-&nbsp;Continuous Delivery
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/python">
&nbsp;-&nbsp;Python
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/ruby">
&nbsp;-&nbsp;Ruby
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Community
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/participate">
Overview
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jam">
Meet
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/events">
Events
</a>
<a class="dropdown-item feature" href="https://issues.jenkins-ci.org/">
Issue Tracker
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://wiki.jenkins.io/">
Wiki
</a>
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/">
<strong>
Special Interest Groups
</strong>
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/advocacy-and-outreach/">
&nbsp;-&nbsp;Advocacy and Outreach
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/chinese-localization/">
&nbsp;-&nbsp;Chinese Localization
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/cloud-native/">
&nbsp;-&nbsp;Cloud Native
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/docs/">
&nbsp;-&nbsp;Documentation
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/gsoc/">
&nbsp;-&nbsp;Google Summer of Code
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/hw-and-eda/">
&nbsp;-&nbsp;Hardware and EDA
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/pipeline-authoring/">
&nbsp;-&nbsp;Pipeline Authoring
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/platform/">
&nbsp;-&nbsp;Platform
</a>
</div>
</li>
<li class="dropdown nav-item">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Subprojects
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/">
Overview
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/blueocean/">
Blue Ocean
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/evergreen/">
Evergreen
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/gsoc/">
Google Summer of Code in Jenkins
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jam/">
Jenkins Area Meetups
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jcasc/">
Jenkins Configuration as Code
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/remoting/">
Jenkins Remoting
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
About
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/security">
Security
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/press">
Press
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/awards">
Awards
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/project/conduct">
Conduct
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/artwork">
Artwork
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
English
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/zh">
中文 Chinese
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/download">
Download
</a>
</li>
</ul>
</div>
</nav>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<script>
  $(function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('#content h' + i);
    }
  })
</script>
<div class="container blog-post">
<div class="row body">
<div class="col-md-11 col-md-offset-1 main-content" id="content">
<div id="content-top">
<h1>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/blog/2019/05/09/templating-engine/" title="Introducing the Jenkins Templating Engine!">
Introducing the Jenkins Templating Engine!
</a>
</h1>
<div style="float: right; clear: all;">
<a class="twitter-share-button" data-lang="en" href="https://twitter.com/share">
Tweet
</a>
</div>
<div class="post-attrs">
<span class="submitted">
Published on
2019-05-09
by
<a href="/blog/authors/steven-terrana">Steven Terrana</a>
</span>
<ul class="list-inline tags">
<li>
<a class="tag-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node/tags/general">
general
</a>
</li>
<li>
<a class="tag-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node/tags/pipeline">
pipeline
</a>
</li>
<li>
<a class="tag-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node/tags/plugin">
plugin
</a>
</li>
<li>
<a class="tag-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node/tags/pipeline-authoring">
pipeline-authoring
</a>
</li>
</ul>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is a guest post by <a href="https://github.com/steven-terrana">Steven Terrana</a>, a Lead Technologist at
<a href="https://boozallen.com">Booz Allen Hamilton</a> and principal engineer working on the <a href="https://plugins.jenkins.io/templating-engine">Templating Engine Plugin</a>.
He participates in the <a href="../../../../../sigs/pipeline-authoring">Pipeline Authoring  Special Interest Group</a>.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Implementing DevSecOps practices at the enterprise scale is challenging. With multiple programming languages, automated testing frameworks, and security compliance tools being used by different applications within your organization, it becomes difficult to build and maintain pipelines for each team.</p>
</div>
<div class="paragraph">
<p>Most pipelines are going to follow the same generic workflow regardless of which specific tech stack is employed by an application.  The <a href="https://plugins.jenkins.io/templating-engine">Templating Engine Plugin</a> (abbreviated as JTE for Jenkins Templating Engine) allows you to capture this efficiency by creating tool-agnostic, templated workflows to be reused by every team.</p>
</div>
<div class="paragraph">
<p>As technology consultants with clients in both the public and private sectors, at Booz Allen we found ourselves building DevSecOps pipelines from scratch for every new project.  Through developing the Jenkins Templating Engine, we’ve seen pipeline development decrease from months to days now that we can reuse tool integrations while bringing a new level of governance to Jenkins pipelines.</p>
</div>
<div class="sect1">
<h2 id="pipeline-templating"><a class="anchor" href="#pipeline-templating"></a>Pipeline Templating</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Organizations benefit from letting application developers focus on what they do best: building applications. Supporting this means building a centralized DevOps team responsible for maintaining platform infrastructure and creating CI/CD pipelines utilized by development teams.</p>
</div>
<div class="paragraph">
<p>With the rise of microservice-based architectures, a centralized DevOps teams can support many different development teams simultaneously; all of whom may be leveraging different programming languages and automated testing tools.</p>
</div>
<div class="paragraph">
<p>While the tools may differ between development teams, the workflow is often the same: unit test, static code analysis, build and publish an artifact, deploy it, and then perform different types of testing against the deployed application.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The Templating Engine Plugin allows you to remove the Jenkinsfile from each repository by defining a common workflow for teams to inherit.  Instead of an entire pipeline definition in each repository, teams supply a configuration file specifying which tools to use for the workflow.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="jte-in-action"><a class="anchor" href="#jte-in-action"></a>JTE in Action</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let&#8217;s walk through a bare bones example to demonstrate the reusability of templates:</p>
</div>
<div class="listingblock">
<div class="title">Example Pipeline Template:</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">unit_test()
build()
static_code_analysis()</code></pre>
</div>
</div>
<div class="paragraph">
<p>Templates leverage <em>Steps</em> contributed by <em>Libraries</em> to outline a workflow teams must implement.  While a template does get executed just like any other <code>Jenkinsfile</code> (meaning that the standard scripted and declarative syntax is supported), the goal of a template should be to read like plain English and avoid any technical implementation.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Leveraging templates in this way lets you separate the <strong>business logic</strong> (what should happen when) of your pipeline from the
<strong>technical implementation</strong> (what&#8217;s actually going to happen).  The result of this is a CI/CD pipeline that&#8217;s proven to be
significantly easier to manage when supporting multiple teams simultaneously.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The steps outlined by this template (<code>unit_test</code>, <code>build</code>, and <code>static_code_analysis</code>) have been named generically on purpose. This way teams can specify <em>different</em> libraries to use while sharing the <em>same</em> pipeline.</p>
</div>
<div class="sect2">
<h3 id="implementing-the-template"><a class="anchor" href="#implementing-the-template"></a>Implementing the Template</h3>
<div class="paragraph">
<p>Implementing a shareable pipeline with the Templating Engine requires a few key components:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Pipeline Template</strong>: <em>Outline the workflow to be performed</em><br></p>
</li>
<li>
<p><strong>Libraries</strong>: <em>Provide technical implementations of the steps of the workflow</em><br></p>
</li>
<li>
<p><strong>Configuration Files</strong>: <em>Specify which libraries to use and their configuration</em></p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="step-1-create-a-pipeline-configuration-repository"><a class="anchor" href="#step-1-create-a-pipeline-configuration-repository"></a>Step 1: Create a Pipeline Configuration Repository</h4>
<div class="paragraph">
<p>A <em>Pipeline Configuration Repository</em> is used to store common configurations and pipeline templates inherited by teams.</p>
</div>
<div class="paragraph">
<p>This <a href="https://github.com/steven-terrana/example-jte-configuration">example Pipeline Configuration Repository</a> will later be configured as part of a <a href="https://boozallen.github.io/jenkins-templating-engine/pages/Governance/index.html#governance-tier">Governance Tier</a>: the mechanism in JTE that allows you to build hierarchical configurations representing your organization.</p>
</div>
<div class="paragraph">
<p>A Governance Tier holds three things:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Pipeline Templates</p>
</li>
<li>
<p>A list of Library Sources</p>
</li>
<li>
<p>The tier&#8217;s configuration file (<code>pipeline_config.groovy</code>)</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The pipeline templates and the configuration file for a Governance Tier are stored in the pipeline configuration repository.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When configuring the Governance Tier in Jenkins, you will provide a source code management location for a repository that contains the above components as well as the base directory where these artifacts can be found.</p>
</div>
</div>
<div class="sect3">
<h4 id="step-2-create-the-pipeline-template"><a class="anchor" href="#step-2-create-the-pipeline-template"></a>Step 2: Create the Pipeline Template</h4>
<div class="paragraph">
<p>Next, we&#8217;ll create a <code>Jenkinsfile</code> for the Governance Tier.  In JTE, the <code>Jenkinsfile</code> is the default pipeline template that an execution will use.</p>
</div>
<div class="listingblock">
<div class="title">Jenkinsfile</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">unit_test()
build()
static_code_analysis()</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="step-3-create-the-libraries"><a class="anchor" href="#step-3-create-the-libraries"></a>Step 3: Create the Libraries</h4>
<div class="paragraph">
<p>The Templating Engine Plugin has implemented a version of Jenkins Shared Libraries to enhance the reusability of libraries.  A library is a root directory within a source code repository that has been configured as a Library Source on a Governance Tier.</p>
</div>
<div class="paragraph">
<p>In our example, the pipeline template needs to perform unit testing, package an artifact, and run static code analysis.</p>
</div>
<div class="paragraph">
<p>Let&#8217;s assume that we have some teams using <strong>gradle</strong> and some teams using <strong>maven</strong> to build and test their application but they will both use SonarQube to perform static code analysis.</p>
</div>
<div class="paragraph">
<p>In this scenario, we should create <code>gradle</code>, <code>maven</code>, and <code>sonarqube</code> libraries.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="nowrap">|- gradle/
  \-- build.groovy
  \-- unit_test.groovy
|- maven/
  \-- build.groovy
  \-- unit_test.groovy
|- sonarqube/
  \-- static_code_analysis.groovy</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="step-4-implement-the-steps"><a class="anchor" href="#step-4-implement-the-steps"></a>Step 4: Implement the Steps</h4>
<div class="paragraph">
<p>Implementing a library step is exactly the same as just writing regular global variables as part of the default Jenkins Shared Libraries.</p>
</div>
<div class="paragraph">
<p>For the purposes of this demonstration, we will just have each step print out the step name and contributing library.</p>
</div>
<div class="listingblock">
<div class="title">gradle/build.groovy</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy"><span style="color:#339;font-weight:bold">void</span> call(){
    println <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">gradle: build()</span><span style="color:#710">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Read more about <a href="https://boozallen.github.io/jenkins-templating-engine/pages/Library_Development/index.html">Library Development within JTE</a>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="step-5-create-the-configuration-files"><a class="anchor" href="#step-5-create-the-configuration-files"></a>Step 5: Create the Configuration Files</h4>
<div class="paragraph">
<p>The configuration file for JTE is named <code>pipeline_config.groovy</code>.</p>
</div>
<div class="paragraph">
<p>In the Governance Tier we&#8217;ll create a configuration file specifying common configurations between the applications. In this case, both applications are using the <code>sonarqube</code> library:</p>
</div>
<div class="listingblock">
<div class="title">pipeline_config.groovy</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">libraries{
  merge = <span style="color:#069">true</span> <span style="color:#777">// allow individual apps to contribute additional libraries</span>
  sonarqube
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Next, we&#8217;ll create two more repositories representing the <a href="https://github.com/steven-terrana/example-jte-app-maven">maven</a> and <a href="https://github.com/steven-terrana/example-jte-app-gradle">gradle</a> applications. Within those repositories all we&#8217;ll need is an application-specific <code>pipeline_config.groovy</code> file.</p>
</div>
<div class="paragraph">
<p>These repositories both contain an application <code>pipeline_config.groovy</code> configuration file.</p>
</div>
<div class="listingblock">
<div class="title">maven app: pipeline_config.groovy</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">libraries{
    maven
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">gradle app: pipeline_config.groovy</div>
<div class="content">
<pre class="CodeRay highlight nowrap"><code data-lang="groovy">libraries{
    gradle
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="step-6-configure-the-governance-tier-in-jenkins"><a class="anchor" href="#step-6-configure-the-governance-tier-in-jenkins"></a>Step 6: Configure the Governance Tier in Jenkins</h4>
<div class="paragraph">
<p>Now that we have a <a href="https://github.com/steven-terrana/example-jte-configuration">Pipeline Configuration Repository</a> and a <a href="https://github.com/steven-terrana/example-jte-libraries">Library Source Repository</a>, we can configure a <a href="https://boozallen.github.io/jenkins-templating-engine/pages/Governance/index.html#governance-tier">Governance Tier</a> in Jenkins:</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/2019-05-09-templating-engine/governance_tier.png" alt="governance tier"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This configuration shown in the image above can be found under <code>Manage Jenkins &gt;&gt; Configure System</code>
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Through the Templating Engine, you can create a pipeline governance hierarchy matching your organization&#8217;s taxonomy by representing this structure via Folders in Jenkins.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="step-7-create-a-multibranch-pipeline-for-both-applications"><a class="anchor" href="#step-7-create-a-multibranch-pipeline-for-both-applications"></a>Step 7: Create a Multibranch Pipeline for Both Applications</h4>
<div class="paragraph">
<p>When creating Multibranch Pipeline Projects for each app, the Templating Engine plugin supplies a new <code>Project Recognizer</code>
called <strong>Jenkins Templating Engine</strong>.  This sets the project to use the Templating Engine framework for all branches within the
repository.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/2019-05-09-templating-engine/project_recognizer.png" alt="project recognizer"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You can also set the <strong>Jenkins Templating Engine</strong> project recognizer for a GitHub Organization project, enabling you to easily share the same pipeline across an entire Github Organization!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="step-8-run-the-pipelines"><a class="anchor" href="#step-8-run-the-pipelines"></a>Step 8: Run the Pipelines</h4>
<div class="paragraph">
<p>That&#8217;s it!  Now, both applications will leverage the exact same pipeline template while having the flexibility to select which
tools should be used during each phase of the workflow.</p>
</div>
<div class="paragraph">
<p>Below is sample output from the console log from both applications pipeline runs:</p>
</div>
<div class="listingblock">
<div class="title">Gradle:</div>
<div class="content">
<pre class="nowrap">[JTE] Obtained Template Configuration File pipeline_config.groovy from git https://github.com/steven-terrana/example-jte-configuration
[JTE] Obtained Template Configuration File pipeline_config.groovy from git https://github.com/steven-terrana/example-jte-app-gradle.git
[JTE] Loading Library sonarqube from git https://github.com/steven-terrana/example-jte-libraries.git
[JTE] Loading Library gradle from git https://github.com/steven-terrana/example-jte-libraries.git
...
[JTE] Obtained Template Jenkinsfile from git https://github.com/steven-terrana/example-jte-configuration
[JTE][Step - gradle/unit_test]
[Pipeline] echo
gradle: unit_test()
[JTE][Step - gradle/build]
[Pipeline] echo
gradle: build()
[JTE][Step - sonarqube/static_code_analysis]
[Pipeline] echo
sonarqube: static_code_analysis()
[Pipeline] End of Pipeline</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Maven:</div>
<div class="content">
<pre class="nowrap">[JTE] Obtained Template Configuration File pipeline_config.groovy from git https://github.com/steven-terrana/example-jte-configuration
[JTE] Obtained Template Configuration File pipeline_config.groovy from git https://github.com/steven-terrana/example-jte-app-maven.git
[JTE] Loading Library sonarqube from git https://github.com/steven-terrana/example-jte-libraries.git
[JTE] Loading Library maven from git https://github.com/steven-terrana/example-jte-libraries.git
...
[JTE] Obtained Template Jenkinsfile from git https://github.com/steven-terrana/example-jte-configuration
[JTE][Step - maven/unit_test]
[Pipeline] echo
maven: unit_test()
[JTE][Step - maven/build]
[Pipeline] echo
maven: build()
[JTE][Step - sonarqube/static_code_analysis]
[Pipeline] echo
sonarqube: static_code_analysis()
[Pipeline] End of Pipeline</pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="benefits-of-the-templating-engine"><a class="anchor" href="#benefits-of-the-templating-engine"></a>Benefits of the Templating Engine</h2>
<div class="sectionbody">
<div class="paragraph">
<p><span class="image center"><img src="/images/post-images/2019-05-09-templating-engine/jte_benefits.png" alt="jte benefits"></span></p>
</div>
<div class="sect2">
<h3 id="apply-organizational-governance"><a class="anchor" href="#apply-organizational-governance"></a>Apply Organizational Governance</h3>
<div class="paragraph">
<p>Leveraging the Templating Engine Plugin will allow you to define enterprise-scale, approved
workflows that can be used by teams regardless of what tools are being used.  This top-down
approach makes scaling and enforcing DevSecOps principles significantly easier within your organization.</p>
</div>
</div>
<div class="sect2">
<h3 id="optimize-code-reuse"><a class="anchor" href="#optimize-code-reuse"></a>Optimize Code Reuse</h3>
<div class="paragraph">
<p>There&#8217;s really no need for every team in your organization to figure out how to do the same things over
and over again.  At Booz Allen, we have seen pipeline development time decrease from months to days as
we have continuously reused and expanded upon our Templating Engine library portfolio as part of our Solutions
Delivery Platform.</p>
</div>
</div>
<div class="sect2">
<h3 id="simplify-pipeline-maintainability"><a class="anchor" href="#simplify-pipeline-maintainability"></a>Simplify Pipeline Maintainability</h3>
<div class="paragraph">
<p>Often DevOps engineers find themselves building and supporting pipelines for multiple development teams at
the same time.  By decoupling the workflow from the technical implementation and consolidating the pipeline
definition to a centralized location, the Templating Engine plugin allows DevOps engineers to scale much faster.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="get-involved"><a class="anchor" href="#get-involved"></a>Get Involved!</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The <a href="https://plugins.jenkins.io/templating-engine">Templating Engine Plugin</a> has been open sourced and made available in the Jenkins Update Center.</p>
</div>
<div class="paragraph">
<p>We always appreciate feedback and contributions! If you have an interesting use case or would like to ask questions, try the <a href="https://gitter.im/jenkinsci/templating-engine-plugin">templating-engine-plugin on Gitter</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="advanced-features"><a class="anchor" href="#advanced-features"></a>Advanced Features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Governance/conditional_inheritance.html">Configuration File Conditional Inheritance</a></p>
</li>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Library_Development/externalizing_config.html">Externalize Library Configurations</a></p>
</li>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Library_Development/lifecycle_hooks.html">Aspect Oriented LifeCycle Hooks</a></p>
</li>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Governance/index.html#pipeline-template-selection">Multiple Pipeline Templates</a></p>
</li>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Templating/configuration_files/default_step_implementation.html">Default Step Implementation</a></p>
</li>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/pages/Templating/configuration_files/sandboxing.html">Configuration File DSL Sandboxing</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="more-resources"><a class="anchor" href="#more-resources"></a>More Resources</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="for-this-demonstration"><a class="anchor" href="#for-this-demonstration"></a>For this Demonstration</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://github.com/steven-terrana/example-jte-configuration">Pipeline Configuration Repository</a></p>
</li>
<li>
<p><a href="https://github.com/steven-terrana/example-jte-libraries">Sample Libraries</a></p>
</li>
<li>
<p><a href="https://github.com/steven-terrana/example-jte-app-maven">Sample Maven Repository</a></p>
</li>
<li>
<p><a href="https://github.com/steven-terrana/example-jte-app-gradle">Sample Gradle Repository</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="additional-resources"><a class="anchor" href="#additional-resources"></a>Additional Resources</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://boozallen.github.io/jenkins-templating-engine/">Templating Engine Documentation</a></p>
</li>
<li>
<p><a href="https://github.com/jenkinsci/templating-engine-plugin">Source Code</a></p>
</li>
<li>
<p><a href="https://github.com/boozallen/sdp-libraries">Booz Allen&#8217;s SDP Pipeline Libraries</a></p>
</li>
<li>
<p><a href="https://boozallen.com">Booz Allen Hamilton</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<!-- starting partial author.html.haml -->
<div id="about-the-author">
<b class="author about-header">
About the Author
</b>
<table class="author box">
<tr>
<td>
<!-- starting partial avatar.html.haml -->
<img alt="Steven Terrana" class="author logo" src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/images/logos/transparent/transparent.svg">

<!-- ending partial avatar.html.haml -->
</td>
<td>
<b class="author name">
<a href="/blog/authors/steven-terrana">
Steven Terrana
</a>
</b>
<p>
This author has no biography defined.
See social media links referenced below.
</p>
<!-- starting partial social-media-buttons.html.haml -->
<ul class="author social-media-buttons">
<li class="author">
<a href="https://github.com/steven-terrana" target="_blank">
GitHub
</a>
</li>
</ul>

<!-- ending partial social-media-buttons.html.haml -->
</td>
</tr>
</table>
</div>

<!-- ending partial author.html.haml -->
</div>
</div>
</div>


<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/anchor-js/anchor.min.js"></script>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/tether/js/tether.min.js"></script>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="col-md-4">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//blog/2019/05/2019-05-09-templating-engine.adoc" title="Edit /blog/2019/05/2019-05-09-templating-engine.adoc on GitHub">Improve this page</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/commits/master/content//blog/2019/05/2019-05-09-templating-engine.adoc" title="View /blog/2019/05/2019-05-09-templating-engine.adoc history on GitHub">Page history</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img alt="Creative Commons Attribution-ShareAlike license" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative
Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
<div class="links col-md-8">
<div class="container">
<div class="row">
<div class="area col-md-3">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/events">
Events
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc">
Documentation
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node">
Blog
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Solutions</h5>
<ul>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/android">
Android
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/c">
C/C++
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/docker">
Docker
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/embedded">
Embedded
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/github">
GitHub
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/java">
Java
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/php">
PHP
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/pipeline">
Continuous Delivery
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/python">
Python
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/ruby">
Ruby
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://issues.jenkins-ci.org">
Issue tracker
</a>
</li>
<li>
<a href="https://wiki.jenkins.io">
Wiki
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-users">
Users mailing list
</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-dev">
Developers mailing list
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs">
Special Interest Groups
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/merchandise">
Merchandise
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/awards">
Awards
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
  
  $(function(){
    var $body = $(document.body);
    $(".nav-link.dropdown-toggle").on("mousedown", function(){
      $body.addClass("no-outline");
    })
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
</body>
</html>
