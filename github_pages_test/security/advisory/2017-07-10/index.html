<!DOCTYPE html>
<html lang="en">
<head>
<title>
Jenkins Security Advisory 2017-07-10
</title>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="description">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sites/default/files/jenkins_favicon.ico" rel="shortcut icon" type="image/x-icon">
<meta charset="utf-8">
<meta content="width=device-width, initial-scale=1" name="viewport">
<meta content="ie=edge" http-equiv="x-ua-compatible">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon.ico" rel="icon" sizes="32x32" type="img/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/img/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152">
<meta content="Jenkins Security Advisory 2017-07-10" name="apple-mobile-web-app-title">
<!-- Twitter Card data -->
<meta content="summary_large_image" name="twitter:card">
<meta content="@JenkinsCI" name="twitter:site">
<meta content="Jenkins Security Advisory 2017-07-10" name="twitter:title">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="twitter:description">
<meta content="@JenkinsCI" name="twitter:creator">
<!-- Twitter Summary card images must be at least 120x120px -->
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/images/logo-title-opengraph.png" name="twitter:image">
<!-- Open Graph data -->
<meta content="Jenkins Security Advisory 2017-07-10" property="og:title">
<meta content="article" property="og:type">
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/security/advisory/2017-07-10/index.html" property="og:url">
<meta content="Jenkins – an open source automation server which enables developers around the world to reliably build, test, and deploy their software" name="og:description">
<meta content="Jenkins Security Advisory 2017-07-10" property="og:site_name">
<meta content="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/images/logo-title-opengraph.png" name="og:image">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/bootstrap/css/bootstrap.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/tether/css/tether.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/font-icons.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/jenkins.css" media="screen" rel="stylesheet">
<!-- Non-obtrusive CSS styles -->
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/ionicons/css/ionicons.min.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/footer.css" media="screen" rel="stylesheet">
<link href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/css/font-awesome.min.css" media="screen" rel="stylesheet">
</head>
<body>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/jquery/jquery.min.js"></script>
<!-- starting partial toptoolbar.html.haml -->
<nav class="navbar navbar-expand-md navbar-dark top bg-dark fixed-top" id="ji-toolbar">
<a class="navbar-brand" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test">
Jenkins
</a>
<button class="navbar-toggler" data-target="#CollapsingNavbar" data-toggle="collapse" type="button">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="CollapsingNavbar">
<ul class="nav navbar-nav ml-auto">
<li class="nav-item">
<a class="nav-link" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node">
Blog
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Documentation
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc">
Use Jenkins
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc/developer">
Extend Jenkins
</a>
<span class="dropdown-item">
<strong>
Use-cases
</strong>
</span>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/android">
&nbsp;-&nbsp;Android
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/c">
&nbsp;-&nbsp;C/C++
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/docker">
&nbsp;-&nbsp;Docker
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/embedded">
&nbsp;-&nbsp;Embedded
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/github">
&nbsp;-&nbsp;GitHub
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/java">
&nbsp;-&nbsp;Java
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/php">
&nbsp;-&nbsp;PHP
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/pipeline">
&nbsp;-&nbsp;Continuous Delivery
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/python">
&nbsp;-&nbsp;Python
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/ruby">
&nbsp;-&nbsp;Ruby
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link" href="https://plugins.jenkins.io/">
Plugins
</a>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Community
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/participate">
Overview
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/chat" title="Chat with the rest of the Jenkins community on IRC">
Chat
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jam">
Meet
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/events">
Events
</a>
<a class="dropdown-item feature" href="https://issues.jenkins-ci.org/">
Issue Tracker
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/mailing-lists" title="Browse Jenkins mailing list archives and/or subscribe to lists">
Mailing Lists
</a>
<a class="dropdown-item feature" href="https://wiki.jenkins.io/">
Wiki
</a>
<a class="dropdown-item feature" href="https://accounts.jenkins.io/" title="Create/manage your account for accessing wiki, issue tracker, etc">
Account Management
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/">
<strong>
Special Interest Groups
</strong>
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/advocacy-and-outreach/">
&nbsp;-&nbsp;Advocacy and Outreach
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/chinese-localization/">
&nbsp;-&nbsp;Chinese Localization
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/cloud-native/">
&nbsp;-&nbsp;Cloud Native
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/docs/">
&nbsp;-&nbsp;Documentation
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/gsoc/">
&nbsp;-&nbsp;Google Summer of Code
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/hw-and-eda/">
&nbsp;-&nbsp;Hardware and EDA
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/pipeline-authoring/">
&nbsp;-&nbsp;Pipeline Authoring
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs/platform/">
&nbsp;-&nbsp;Platform
</a>
</div>
</li>
<li class="dropdown nav-item">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
Subprojects
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/">
Overview
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/blueocean/">
Blue Ocean
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/evergreen/">
Evergreen
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/gsoc/">
Google Summer of Code in Jenkins
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/infrastructure/">
Infrastructure
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jam/">
Jenkins Area Meetups
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/jcasc/">
Jenkins Configuration as Code
</a>
<a class="dropdown-item feature" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/projects/remoting/">
Jenkins Remoting
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
About
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/security">
Security
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/press">
Press
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/awards">
Awards
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/project/conduct">
Conduct
</a>
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/artwork">
Artwork
</a>
</div>
</li>
<li class="nav-item dropdown">
<!-- starting partial dropdown.html.haml -->
<button aria-expanded="false" aria-haspopup="true" class="nav-link dropdown-toggle" data-toggle="dropdown">
English
</button>

<!-- ending partial dropdown.html.haml -->
<div class="dropdown-menu">
<a class="dropdown-item" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/zh">
中文 Chinese
</a>
</div>
</li>
<li class="nav-item">
<a class="nav-link btn btn-outline-secondary" href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/download">
Download
</a>
</li>
</ul>
</div>
</nav>
<!-- Spacing to make the fixed-top sticky navbar not occlude any content below it -->
<div class="pt-4">
&nbsp;
</div>

<!-- ending partial toptoolbar.html.haml -->
<style>
  .toc {
      float: right;
  }
</style>
<script>
  $(function () {
    for (var i = 1 ; i <= 6 ; i ++) {
      anchors.add('.container .row.body h' + i);
    }
  })
</script>
<div class="container">
<div class="row body">
<div class="col-md-12">
<h1>
Jenkins Security Advisory 2017-07-10
</h1>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This advisory originally recommended upgrading Poll SCM plugin to version 1.4. This was incorrect. Version 1.3.1 contains the fix.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This advisory announces vulnerabilities in these Jenkins plugins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://plugins.jenkins.io/docker-commons">Docker Commons Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/git">Git Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/github-branch-source">GitHub Branch Source Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/parameterized-trigger">Parameterized Trigger Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/periodicbackup">Periodic Backup Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/pipeline-build-step">Pipeline: Build Step Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/workflow-cps">Pipeline: Groovy Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/pollscm">Poll SCM Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/role-strategy">Role-based Authorization Strategy Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/script-security">Script Security Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/sidebar-link">Sidebar Link Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/ssh">SSH Plugin</a></p>
</li>
<li>
<p><a href="https://plugins.jenkins.io/subversion">Subversion Plugin</a></p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="description"><a class="anchor" href="#description"></a>Description</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="parameterized-trigger-plugin-fails-to-check-itembuild-permission"><a class="anchor" href="#parameterized-trigger-plugin-fails-to-check-itembuild-permission"></a>Parameterized Trigger Plugin fails to check Item/Build permission</h3>
<div class="paragraph">
<p><strong>SECURITY-201 / CVE-2017-1000084</strong></p>
</div>
<div class="paragraph">
<p>Builds in Jenkins are associated with an authentication that controls the permissions that the build has to interact with other elements in Jenkins.
By default, builds run as SYSTEM and are unconstrained unless plugins implement specific additional permission checks.</p>
</div>
<div class="paragraph">
<p>Plugins like <a href="https://plugins.jenkins.io/authorize-project">Authorize Project Plugin</a> allow changing the authentication associated with a build.</p>
</div>
<div class="paragraph">
<p>The Parameterized Trigger Plugin did not check the build authentication it was running as and allowed triggering any other project in Jenkins.</p>
</div>
<div class="paragraph">
<p>The plugin has been adapted to now check for Item/Build permission before triggering a downstream build.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="csrf-vulnerability-and-insufficient-permission-checks-allow-capturing-credentials-in-subversion-plugin"><a class="anchor" href="#csrf-vulnerability-and-insufficient-permission-checks-allow-capturing-credentials-in-subversion-plugin"></a>CSRF vulnerability and insufficient permission checks allow capturing credentials in Subversion Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-303 / CVE-2017-1000085</strong></p>
</div>
<div class="paragraph">
<p>Subversion Plugin connects to a user-specified Subversion repository as part of form validation (e.g. to retrieve a list of tags).</p>
</div>
<div class="paragraph">
<p>This functionality improperly checked permissions, allowing any user with Item/Build permission (but not Item/Configure) to connect to any web server or Subversion server and send credentials with a known ID, thereby possibly capturing them.</p>
</div>
<div class="paragraph">
<p>Additionally, this functionality did not require POST requests be used, thereby allowing the above to be performed without direct access to Jenkins via Cross-Site Request Forgery attacks.</p>
</div>
<div class="paragraph">
<p>This functionality now properly checks permissions and is only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="missing-permission-checks-in-periodic-backup-plugin-allow-every-user-to-change-settings"><a class="anchor" href="#missing-permission-checks-in-periodic-backup-plugin-allow-every-user-to-change-settings"></a>Missing permission checks in Periodic Backup Plugin allow every user to change settings</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-335 / CVE-2017-1000086</strong></p>
</div>
<div class="paragraph">
<p>The Periodic Backup Plugin did not perform any permission checks, allowing any user with Overall/Read access to change its settings, trigger backups, restore backups, and also delete all previous backups via log rotation.</p>
</div>
<div class="paragraph">
<p>Additionally, the plugin was not requiring requests to its API be sent via POST, thereby opening itself to Cross-Site Request Forgery attacks.</p>
</div>
<div class="paragraph">
<p>The plugin configuration now properly checks permissions and is only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="unprivileged-users-with-overallread-access-are-able-to-enumerate-credential-ids-in-github-branch-source-plugin"><a class="anchor" href="#unprivileged-users-with-overallread-access-are-able-to-enumerate-credential-ids-in-github-branch-source-plugin"></a>Unprivileged users with Overall/Read access are able to enumerate credential IDs in GitHub Branch Source Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-342 / CVE-2017-1000087</strong></p>
</div>
<div class="paragraph">
<p>GitHub Branch Source provides a list of applicable credential IDs to allow users configuring a job to select the one they&#8217;d like to use.</p>
</div>
<div class="paragraph">
<p>This functionality did not check permissions, allowing any user with Overall/Read permission to get a list of valid credentials IDs.
Those could be used as part of an attack to capture the credentials using another vulnerability.</p>
</div>
<div class="paragraph">
<p>An enumeration of credentials IDs in this plugin now requires the permission to have Extended Read permission (when that permission is enabled; otherwise Configure permission) to the job in whose context credentials are being accessed.
If no job context exists, Overall/Administer permission is required.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="persisted-xss-vulnerability-in-sidebar-link-plugin"><a class="anchor" href="#persisted-xss-vulnerability-in-sidebar-link-plugin"></a>Persisted XSS Vulnerability in Sidebar Link Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-352 / CVE-2017-1000088</strong></p>
</div>
<div class="paragraph">
<p>The Sidebar Link plugin allows users able to configure jobs, views, and agents to add entries to the sidebar of these objects.</p>
</div>
<div class="paragraph">
<p>There was no input validation, which meant users were able to use <code>javascript:</code> schemes for these links, a persisted XSS vulnerability.</p>
</div>
<div class="paragraph">
<p>Now, only a set of whitelisted schemes are allowed by default: <code>http</code>, <code>https</code>, <code>ftp</code>, <code>ftps</code>, <code>mailto</code>, <code>news</code>, <code>irc, gopher</code>, <code>nntp</code>, <code>feed</code>, <code>telnet</code>, <code>mms</code>, <code>rtsp</code>, <code>svn</code>, <code>tel</code>, <code>fax</code>, <code>xmpp</code>, as well as relative links.
Sidebar entries configured with prohibited schemes instead redirect to an error page in Jenkins explaining that it&#8217;s prohibited.</p>
</div>
<div class="paragraph">
<p>To add or remove from this list of schemes, provide the Java system property <code>hudson.plugins.sidebar_link.LinkProtection.whitelistedSchemes</code> with the complete comma-separated list of schemes to allow.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="pipeline-build-step-plugin-fails-to-check-itembuild-permission"><a class="anchor" href="#pipeline-build-step-plugin-fails-to-check-itembuild-permission"></a>Pipeline: Build Step Plugin fails to check Item/Build permission</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-433 / CVE-2017-1000089</strong></p>
</div>
<div class="paragraph">
<p>Builds in Jenkins are associated with an authentication that controls the permissions that the build has to interact with other elements in Jenkins.
By default, builds run as SYSTEM and are unconstrained unless plugins implement specific additional permission checks.</p>
</div>
<div class="paragraph">
<p>Plugins like <a href="https://plugins.jenkins.io/authorize-project">Authorize Project Plugin</a> allow changing the authentication associated with a build.</p>
</div>
<div class="paragraph">
<p>The Pipeline: Build Step Plugin did not check the build authentication it was running as and allowed triggering any other project in Jenkins.</p>
</div>
<div class="paragraph">
<p>The plugin has been adapted to now check for Item/Build permission before triggering a downstream build.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="csrf-vulnerability-in-role-based-authorization-strategy-plugin-configuration"><a class="anchor" href="#csrf-vulnerability-in-role-based-authorization-strategy-plugin-configuration"></a>CSRF vulnerability in Role-based Authorization Strategy Plugin configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-516 / CVE-2017-1000090</strong></p>
</div>
<div class="paragraph">
<p>Role-based Authorization Strategy Plugin was not requiring requests to its API be sent via POST, thereby opening itself to Cross-Site Request Forgery attacks. This allowed attackers to add administrator role to any user, or to remove the authorization configuration, preventing legitimate access to Jenkins.</p>
</div>
<div class="paragraph">
<p>This functionality is now only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="csrf-vulnerability-and-insufficient-permission-checks-allow-capturing-credentials-in-github-branch-source-plugin"><a class="anchor" href="#csrf-vulnerability-and-insufficient-permission-checks-allow-capturing-credentials-in-github-branch-source-plugin"></a>CSRF vulnerability and insufficient permission checks allow capturing credentials in GitHub Branch Source Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-527 / CVE-2017-1000091</strong></p>
</div>
<div class="paragraph">
<p>GitHub Branch Source Plugin connects to a user-specified GitHub API URL (e.g. GitHub Enterprise) as part of form validation and completion (e.g. to verify Scan Credentials are correct).</p>
</div>
<div class="paragraph">
<p>This functionality improperly checked permissions, allowing any user with Overall/Read access to Jenkins to connect to any web server and send credentials with a known ID, thereby possibly capturing them.</p>
</div>
<div class="paragraph">
<p>Additionally, this functionality did not require POST requests be used, thereby allowing the above to be performed without direct access to Jenkins via Cross-Site Request Forgery.</p>
</div>
<div class="paragraph">
<p>This functionality now properly checks permissions and is only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="csrf-vulnerability-in-git-plugin-allows-capturing-credentials"><a class="anchor" href="#csrf-vulnerability-in-git-plugin-allows-capturing-credentials"></a>CSRF vulnerability in Git plugin allows capturing credentials</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-528 / CVE-2017-1000092</strong></p>
</div>
<div class="paragraph">
<p>Git Plugin connects to a user-specified Git repository as part of form validation.</p>
</div>
<div class="paragraph">
<p>An attacker with no direct access to Jenkins but able to guess at a username/password credentials ID could trick a developer with job configuration permissions into following a link with a maliciously crafted Jenkins URL which would result in the Jenkins Git client sending the username and password to an attacker-controlled server.</p>
</div>
<div class="paragraph">
<p>This functionality now is only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="csrf-vulnerability-in-poll-scm-plugin-allowed-unauthorized-polling"><a class="anchor" href="#csrf-vulnerability-in-poll-scm-plugin-allowed-unauthorized-polling"></a>CSRF vulnerability in Poll SCM Plugin allowed unauthorized polling</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-529 / CVE-2017-1000093</strong></p>
</div>
<div class="paragraph">
<p>Poll SCM Plugin was not requiring requests to its API be sent via POST, thereby opening itself to Cross-Site Request Forgery attacks. This allowed attackers to initiate polling of projects with a known name.</p>
</div>
<div class="paragraph">
<p>While Jenkins in general does not consider polling to be a protection-worthy action as it&#8217;s similar to cache invalidation, the plugin specifically adds a permission to be able to use this functionality, and this issue undermines that permission.</p>
</div>
<div class="paragraph">
<p>This functionality now is only available via POST.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="unprivileged-users-with-overallread-access-are-able-to-enumerate-credential-ids-in-docker-commons-plugin"><a class="anchor" href="#unprivileged-users-with-overallread-access-are-able-to-enumerate-credential-ids-in-docker-commons-plugin"></a>Unprivileged users with Overall/Read access are able to enumerate credential IDs in Docker Commons Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-533 / CVE-2017-1000094</strong></p>
</div>
<div class="paragraph">
<p>Docker Commons Plugin provides a list of applicable credential IDs to allow users configuring a job to select the one they&#8217;d like to use to authenticate with a Docker Registry.</p>
</div>
<div class="paragraph">
<p>This functionality did not check permissions, allowing any user with Overall/Read permission to get a list of valid credentials IDs.
Those could be used as part of an attack to capture the credentials using another vulnerability.</p>
</div>
<div class="paragraph">
<p>An enumeration of credentials IDs in this plugin now requires the permission to have Extended Read permission (when that permission is enabled; otherwise Configure permission) to the job in whose context credentials are being accessed.
If no job context exists, Overall/Administer permission is required.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="unsafe-methods-in-the-default-whitelist-in-script-security-plugin"><a class="anchor" href="#unsafe-methods-in-the-default-whitelist-in-script-security-plugin"></a>Unsafe methods in the default whitelist in Script Security Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-538 / CVE-2017-1000095</strong></p>
</div>
<div class="paragraph">
<p>The default whitelist included the entries:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">DefaultGroovyMethods.putAt(Object, String, Object)
DefaultGroovyMethods.getAt(Object, String)</pre>
</div>
</div>
<div class="paragraph">
<p>These allowed circumventing many of the access restrictions implemented in the script sandbox by using e.g. <code>currentBuild['rawBuild']</code> rather than <code>currentBuild.rawBuild</code>.</p>
</div>
<div class="paragraph">
<p>Additionally, the following entries allowed accessing private data that would not be accessible otherwise due to script security:</p>
</div>
<div class="literalblock">
<div class="content">
<pre class="nowrap">groovy.json.JsonOutput.toJson(Closure)
groovy.json.JsonOutput.toJson(Object)</pre>
</div>
</div>
<div class="paragraph">
<p>These have now been removed from the whitelist and added to the blacklist.</p>
</div>
<div class="paragraph">
<p>Scripts, such as Pipeline jobs, that integrate with Script Security and use these methods will now fail.
Use of these methods will appear on the In-Process Script Approval page, and it warns administrators that they are unsafe to approve.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="arbitrary-code-execution-due-to-incomplete-sandbox-protection-in-pipeline-groovy-plugin"><a class="anchor" href="#arbitrary-code-execution-due-to-incomplete-sandbox-protection-in-pipeline-groovy-plugin"></a>Arbitrary code execution due to incomplete sandbox protection in Pipeline: Groovy Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>SECURITY-551 / CVE-2017-1000096</strong></p>
</div>
<div class="paragraph">
<p>Pipelines are subject to <em>script security</em>: Either the entire Pipeline needs to be approved, or it runs in a sandbox, with only whitelisted methods etc. allowed to be called.</p>
</div>
<div class="paragraph">
<p>Constructors, instance variable initializers, and instance initializers in Pipeline scripts were not subject to sandbox protection, and could therefore execute arbitrary code.</p>
</div>
<div class="paragraph">
<p>This could be exploited e.g. by regular Jenkins users with the permission to configure Pipelines in Jenkins, or by trusted committers to repositories containing Jenkinsfiles.</p>
</div>
<div class="paragraph">
<p>These language elements are now subject to sandbox protection.</p>
</div>
<div class="paragraph">
<p>This change may cause existing scripts relying on the incomplete sandbox protection to start failing, and requiring additional script approval.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The fix for this introduced a regression that results in constructors and instance initializers of classes defined in pipeline scripts no longer being able to set <code>final</code> fields. Static initializers are no longer able to set <code>static final</code> fields. The workaround is to make fields non-final.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ssh-plugin-stored-credentials-in-plain-text-configuration-files"><a class="anchor" href="#ssh-plugin-stored-credentials-in-plain-text-configuration-files"></a>SSH Plugin stored credentials in plain text configuration files</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>JENKINS-21436 / CVE-2017-1000245</strong></p>
</div>
<div class="paragraph">
<p>The SSH Plugin stores credentials which allow jobs to access remote servers via the SSH protocol.
User passwords and passphrases for encrypted SSH keys are stored in plaintext in a configuration file.</p>
</div>
<div class="paragraph">
<p>SSH Plugin now integrates with the <a href="https://plugins.jenkins.io/credentials">Credentials Plugin</a> and existing credentials are migrated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="severity"><a class="anchor" href="#severity"></a>Severity</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>SECURITY-201: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:N/I:L/A:N">medium</a></p>
</li>
<li>
<p>SECURITY-303: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N">low</a></p>
</li>
<li>
<p>SECURITY-335: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:L/A:L">high</a></p>
</li>
<li>
<p>SECURITY-342: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N">medium</a></p>
</li>
<li>
<p>SECURITY-352: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:R/S:C/C:L/I:L/A:N">medium</a></p>
</li>
<li>
<p>SECURITY-433: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:N/S:U/C:N/I:L/A:N">low</a></p>
</li>
<li>
<p>SECURITY-516: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:N/UI:R/S:U/C:N/I:H/A:N">medium</a></p>
</li>
<li>
<p>SECURITY-527: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:L/UI:N/S:U/C:L/I:N/A:N">low</a></p>
</li>
<li>
<p>SECURITY-528: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:L/I:N/A:N">low</a></p>
</li>
<li>
<p>SECURITY-529: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:H/PR:N/UI:R/S:U/C:N/I:L/A:N">low</a></p>
</li>
<li>
<p>SECURITY-533: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:L/I:N/A:N">medium</a></p>
</li>
<li>
<p>SECURITY-538: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H">high</a></p>
</li>
<li>
<p>SECURITY-551: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:N/AC:L/PR:L/UI:N/S:U/C:H/I:H/A:H">high</a></p>
</li>
<li>
<p>JENKINS-21436: <a href="https://www.first.org/cvss/calculator/3.0#CVSS:3.0/AV:L/AC:L/PR:N/UI:N/S:U/C:L/I:N/A:N">medium</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="affected-versions"><a class="anchor" href="#affected-versions"></a>Affected versions</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Docker Commons Plugin up to and including version 1.7</p>
</li>
<li>
<p>Git Plugin up to and including version 3.3.1 and 2.4.0-beta-1</p>
</li>
<li>
<p>GitHub Branch Source Plugin up to and including version 2.0.7 and 2.2.0-beta-1</p>
</li>
<li>
<p>Parameterized Trigger Plugin up to and including version 2.34</p>
</li>
<li>
<p>Periodic Backup Plugin up to and including version 1.4</p>
</li>
<li>
<p>Pipeline: Build Step Plugin up to and including version 2.5</p>
</li>
<li>
<p>Pipeline: Groovy Plugin up to and including version 2.36</p>
</li>
<li>
<p>Poll SCM Plugin up to and including version 1.3</p>
</li>
<li>
<p>Role-based Authorization Strategy Plugin up to and including version 2.5.0</p>
</li>
<li>
<p>Script Security Plugin up to and including version 1.29</p>
</li>
<li>
<p>Sidebar Link Plugin up to and including version 1.8</p>
</li>
<li>
<p>SSH Plugin up to and including version 2.4</p>
</li>
<li>
<p>Subversion Plugin up to and including version 2.8</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="fix"><a class="anchor" href="#fix"></a>Fix</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Docker Commons Plugin should be updated to version 1.8</p>
</li>
<li>
<p>Git Plugin should be updated to version 3.3.2 or 3.4.0-beta-2</p>
</li>
<li>
<p>GitHub Branch Source Plugin should be updated to version 2.0.8 or 2.2.0-beta-2</p>
</li>
<li>
<p>Parameterized Trigger Plugin should be updated to version 2.35</p>
</li>
<li>
<p>Periodic Backup Plugin should be updated to version 1.5</p>
</li>
<li>
<p>Pipeline: Build Step Plugin should be updated to version 2.5.1</p>
</li>
<li>
<p>Pipeline: Groovy Plugin should be updated to version 2.36.1</p>
</li>
<li>
<p>Poll SCM Plugin should be updated to version 1.3.1</p>
</li>
<li>
<p>Role-based Authorization Strategy Plugin should be updated to version 2.5.1</p>
</li>
<li>
<p>Script Security Plugin should be updated to version 1.29.1</p>
</li>
<li>
<p>Sidebar Link Plugin should be updated to version 1.9</p>
</li>
<li>
<p>SSH Plugin should be updated to version 2.5</p>
</li>
<li>
<p>Subversion Plugin should be updated to version 2.9</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These versions include fixes to the vulnerabilities described above.
All prior versions are affected by these vulnerabilities unless otherwise indicated.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="credit"><a class="anchor" href="#credit"></a>Credit</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The Jenkins project would like to thank the reporters for discovering and <a href="/security/#reporting-vulnerabilities">reporting</a> these vulnerabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Daniel Beck, CloudBees, Inc.</strong> for SECURITY-529</p>
</li>
<li>
<p><strong>Jesse Glick, CloudBees, Inc.</strong> for SECURITY-303, SECURITY-342, SECURITY-527, SECURITY-528</p>
</li>
<li>
<p><strong>Karl Shultz, CloudBees, Inc.</strong> for SECURITY-533</p>
</li>
<li>
<p><strong>Nathan Rennie-Waldock</strong> for SECURITY-335</p>
</li>
<li>
<p><strong>Simon St John-Green</strong> for SECURITY-551</p>
</li>
<li>
<p><strong>Steven Christou, CloudBees, Inc.</strong> for SECURITY-201</p>
</li>
<li>
<p><strong>Suhas Sunil Gaikwad @IamSuhasGaikwad</strong> for SECURITY-352</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>


<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/anchor-js/anchor.min.js"></script>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/tether/js/tether.min.js"></script>
<script src="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/assets/bower/bootstrap/js/bootstrap.min.js"></script>
<footer id="footer">
<div class="container">
<div class="row">
<div class="col-md-4">
<p class="box">
<a href="https://github.com/jenkins-infra/jenkins.io/edit/master/content//security/advisory/2017-07-10.adoc" title="Edit /security/advisory/2017-07-10.adoc on GitHub">Improve this page</a>
|
<a href="https://github.com/jenkins-infra/jenkins.io/commits/master/content//security/advisory/2017-07-10.adoc" title="View /security/advisory/2017-07-10.adoc history on GitHub">Page history</a>
</p>
<div class="license-box">
<div id="creativecommons">
<a href="https://creativecommons.org/licenses/by-sa/4.0/">
<p>
<img alt="Creative Commons Attribution-ShareAlike license" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png">
</p>
</a>
<p>
The content driving this site is licensed under the Creative
Commons Attribution-ShareAlike 4.0 license.
</p>
</div>
</div>
</div>
<div class="links col-md-8">
<div class="container">
<div class="row">
<div class="area col-md-3">
<div class="div-mar">
<h5>Resources</h5>
<ul class="resources">
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/events">
Events
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/doc">
Documentation
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/node">
Blog
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Solutions</h5>
<ul>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/android">
Android
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/c">
C/C++
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/docker">
Docker
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/embedded">
Embedded
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/github">
GitHub
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/java">
Java
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/php">
PHP
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/pipeline">
Continuous Delivery
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/python">
Python
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/solutions/ruby">
Ruby
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Project</h5>
<ul class="project">
<li>
<a href="https://issues.jenkins-ci.org">
Issue tracker
</a>
</li>
<li>
<a href="https://wiki.jenkins.io">
Wiki
</a>
</li>
<li>
<a href="https://github.com/jenkinsci">
GitHub
</a>
</li>
<li>
<a href="https://ci.jenkins.io">
Jenkins on Jenkins
</a>
</li>
</ul>
</div>
</div>
<div class="area col-md-3">
<div class="div-mar">
<h5>Community</h5>
<ul class="community">
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-users">
Users mailing list
</a>
</li>
<li>
<a href="https://groups.google.com/forum/#!forum/jenkinsci-dev">
Developers mailing list
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/sigs">
Special Interest Groups
</a>
</li>
<li>
<a href="https://twitter.com/jenkinsci">
Twitter
</a>
</li>
<li>
<a href="https://reddit.com/r/jenkinsci">
Reddit
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/merchandise">
Merchandise
</a>
</li>
<li>
<a href="https://tempora-mutantur.github.io/jenkins.io/github_pages_test/awards">
Awards
</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</footer>
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
 
ga('create', 'UA-000000-0', 'auto');
ga('send', 'pageview');
ga('set', 'anonymizeIp', true);

</script>

<script>
  !function(d,s,id) {
    var js, fjs=d.getElementsByTagName(s)[0];
    if (!d.getElementById(id)) {
      js = d.createElement(s);
      js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);
    }
  }(document,"script","twitter-wjs");
  
  $(function(){
    var $body = $(document.body);
    $(".nav-link.dropdown-toggle").on("mousedown", function(){
      $body.addClass("no-outline");
    })
    $body.on("keydown", function(){
      $body.removeClass("no-outline");
    })
  })
</script>
</body>
</html>
